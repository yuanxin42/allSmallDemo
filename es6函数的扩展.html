<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>


  <script>
    let fun1 = (x = 5) => {
      return x;
    }
    console.log(fun1())  // 5
    console.log(fun1(2)) // 2


    let fun2 = ({a = 1, b = 2} = {}) => {
      console.log(a, b)
    }
    fun2({ a: 3, c: 5 })
    {
      let a = 1;
      console.log(a)
      {
        let a = 2;
        console.log(a)
      }
    }

    console.log('**************************************')
    let x = 1;
    function f(y = x) {
      let x = 2
      console.log(y)
    }

    {
      console.log(123)
      let foo = 'outer';
      let fun3 = (f = x => foo) => {
        let foo = '123'
        console.log(f())
      }
      fun3()
    }

    var x1 = 1;
    function foo(x1, y = function () { x1 = 2; }) {
      var x1 = 3;
      y();
      console.log(x1);
    }

    foo() // 3
    console.log(x1)

    let add = (...val) => {
      console.log(val)  // [1,2,3]
    }
    add(1, 2, 3)
    {
      function Timer() {
        this.s1 = 0;
        this.s2 = 0;
        // this.s3 = 0;
        // 箭头函数
        setInterval(() => this.s1++, 1000);
        // 普通函数
        setInterval(function () {
          this.s2++;
        }, 1000);
         setInterval(function () {
          this.s3++;
          console.log(this.s3 ,'s3')
        }, 1000);
      }

      var timer = new Timer();

      setTimeout(() => console.log('s1: ', timer.s1), 3100);
      setTimeout(() => console.log('s2: ', timer.s2), 3100);
      // setTimeout(() => console.log('s3: ', timer.s2), 3100);
    }
  </script>
</body>

</html>